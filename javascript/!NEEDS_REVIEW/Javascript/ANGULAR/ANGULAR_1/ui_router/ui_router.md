# Ui Router


- https://github.com/angular-ui/ui-router/wiki
- $stateProvider  (UI ROUTER replaces ngRoute)
- a state is a 'place' in the application


```javascript
// app.js
angular.module('myApp', ['ui.router'])
.config(['$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider){
    $stateProvider
        .state('users', { // http://localhost/#/users
            url: "/users", // /users/:id
            templateUrl: 'views/index.html',
            // controller: ''fooController',
            // controllerAs: ''fooCtrl',
            resolve: {
                foobar: function($http, $stateParams, myCustomService){
                    return myCustomService.someFunction();
                }
            },
            onEnter: function($state, foobar) {
                if(foobar){
                    console.log('You are logged in!', foobar);
                }else{
                    $state.go('login');
                    console.log('You are NOT logged in, go to /login!', foobar);
                }
            }
        })

    $urlRouterProvider.otherwise('/'); // for wrong routes
}
```

```javascript

// controller
.controller('usersController', [
    '$scope', 
    '$state', 
    usersController
]);

function usersController($scope, $state, $stateParams){

    // $stateParams.name; // (/users/:name)
    // $state.reload();
    // $state.go('users');
    // $state.go('users', {id: 123});  // (/users/:id)
}

```

```html
<!-- view -->
<a href="#/users">users</a>

<!-- users is a function generated by the name of the state, in this case: 'users()' -->
<a ui-sref="users()">users</a> // sref stands for state reference, not url
<a ui-sref="users({id: user.id})">users</a> 


<!--
index.html (where the state will load the templates and controllers!)
include the CDN to angular-ui-router.min.js
-->
<div ui-view></div>

```
